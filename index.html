<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<title>Feliz dia dos namorido - Amore xuxu</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet" />

<style>
  /* Reset */
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }

  html, body {
    height: 100%;
    font-family: 'Montserrat', sans-serif;
    overflow-x: hidden;
    background: #fce8f1;
    color: #a83261;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 1rem 0 4rem;
    user-select: none;
    position: relative;
  }

  h1 {
    font-size: 2.2rem;
    font-weight: 700;
    margin-bottom: 1rem;
    text-shadow: 0 3px 7px rgba(168,61,113,0.3);
    text-align: center;
  }

  /* Photos container - CSS Grid */
  #photos-container {
    width: 90vw;
    max-width: 360px;
    height: 360px;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(2, 1fr);
    gap: 0;
    position: relative;
    margin-bottom: 2rem;
  }

  /* Each photo */
  .photo {
    width: 120px;
    height: 120px;
    border-radius: 18px;
    object-fit: cover;
    box-shadow: 0 8px 20px rgba(168, 61, 113, 0.3);
    cursor: pointer;
    user-select: none;
    position: relative;
    will-change: transform;
  }
  .photo:hover {
    box-shadow: 0 14px 28px rgba(168, 61, 113, 0.7);
    z-index: 10;
  }

  /* Button */
  #openPopupBtn {
    background: linear-gradient(135deg, #f4a1c1, #e775a1);
    border: none;
    padding: 1em 3em;
    border-radius: 40px;
    font-size: 1.25rem;
    font-weight: 700;
    color: white;
    cursor: pointer;
    box-shadow: 0 8px 20px rgba(231,117,161,0.6);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    user-select: none;
  }
  #openPopupBtn:hover {
    transform: scale(1.08);
    box-shadow: 0 12px 30px rgba(231,117,161,0.9);
  }

  /* Pop-up overlay */
  #popupOverlay {
    position: fixed;
    inset: 0;
    background: rgba(168, 61, 113, 0.85);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 150;
  }

  /* Pop-up box */
  #popup {
    background: #fff0f6;
    border-radius: 28px;
    max-width: 340px;
    padding: 2.5rem 2.8rem;
    box-shadow: 0 12px 30px rgba(168, 61, 113, 0.5);
    text-align: center;
    color: #a83261;
    position: relative;
    font-size: 1.15rem;
    line-height: 1.5;
    user-select: text;
  }
  #popup h2 {
    margin-bottom: 1.3rem;
    font-weight: 800;
  }
  #popup strong {
    display: block;
    margin: 0.8rem 0 1.4rem;
  }

  #closePopupBtn {
    background: #a83261;
    border: none;
    border-radius: 30px;
    padding: 0.9em 2.8em;
    font-weight: 700;
    color: white;
    cursor: pointer;
    box-shadow: 0 8px 24px rgba(168, 61, 113, 0.7);
    transition: background-color 0.3s ease;
    user-select: none;
  }
  #closePopupBtn:hover {
    background-color: #7a2445;
  }

  /* Audio control fixed bottom right */
  #audioControl {
    position: fixed;
    bottom: 18px;
    right: 18px;
    background: linear-gradient(135deg, #f4a1c1, #e775a1);
    border-radius: 50px;
    padding: 0.5em 1.2em;
    display: flex;
    align-items: center;
    box-shadow: 0 8px 24px rgba(231, 117, 161, 0.85);
    cursor: pointer;
    font-weight: 700;
    color: white;
    user-select: none;
    z-index: 200;
    transition: background 0.3s ease;
  }
  #audioControl:hover {
    background: linear-gradient(135deg, #e775a1, #f4a1c1);
  }
  #audioControl span {
    margin-left: 0.55em;
    font-size: 1rem;
  }

  /* Hearts container fixed */
  #hearts {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 140;
    overflow: hidden;
  }

  /* Confetti canvas */
  #confetti {
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: 170;
  }
</style>

</head>
<body>

<h1>Feliz dia dos namorido amore xuxu! üíñ</h1>

<div id="photos-container" aria-label="Fotos do casal, dispostas artisticamente">
  <img src="imagens/foto.1.png" alt="Foto 1" class="photo" draggable="false" />
  <img src="imagens/foto.2.png" alt="Foto 2" class="photo" draggable="false" />
  <img src="imagens/foto.3.png" alt="Foto 3" class="photo" draggable="false" />
  <img src="imagens/foto.4.png" alt="Foto 4" class="photo" draggable="false" />
  <img src="imagens/foto.5.png" alt="Foto 5" class="photo" draggable="false" />
</div>

<button id="openPopupBtn" aria-haspopup="dialog" aria-controls="popupOverlay">
  Aperte para ver o presente
</button>

<div id="popupOverlay" role="dialog" aria-modal="true" aria-labelledby="popupTitle" aria-hidden="true">
  <div id="popup">
    <h2 id="popupTitle">Um presente especial para voc√™</h2>
    <p>Voc√™ merece um dia para relaxar e ser mimada... ‚ù§Ô∏è</p>
    <strong> Este vale √© v√°lido para um dia de spa, no local que voc√™ quiser, tudo por conta do seu marido.</strong>
    <p>Amore, eu te amo mutchoooooo!</p>
    <button id="closePopupBtn" aria-label="Fechar convite">Fechar</button>
  </div>
</div>

<!-- M√∫sica "Expresso" da Sabrina -->
<audio id="backgroundMusic" loop preload="auto">
  <!-- Aten√ß√£o: substitua a URL pela m√∫sica oficial, aqui √© um placeholder -->
  <source src="https://cdn.pixabay.com/download/audio/2022/03/22/audio_0b49d202d1.mp3?filename=spring-126131.mp3" type="audio/mpeg" />
  Seu navegador n√£o suporta √°udio.
</audio>

<div id="audioControl" role="button" tabindex="0" aria-pressed="false" aria-label="Controlar m√∫sica">
  ‚ñ∂Ô∏è<span>Tocar M√∫sica</span>
</div>

<div id="hearts"></div>
<canvas id="confetti"></canvas>

<!-- GSAP CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<script>
  // GSAP Animations and logic

  // Animate background gradient subtly using GSAP
  gsap.to("body", {
    backgroundPosition: "400% 50%",
    duration: 40,
    ease: "power1.inOut",
    repeat: -1,
    yoyo: true,
    backgroundSize: "400% 400%"
  });

  // Photos "jogado" positions and rotations with GSAP timeline loop
  const photos = document.querySelectorAll('.photo');

  // Base positions in grid:
  // We'll offset and rotate photos randomly with smooth looping animation
  const photoAnimDuration = 6;

  photos.forEach((photo, i) => {
    const baseX = (i % 3) * 120; // grid approx
    const baseY = Math.floor(i / 3) * 120;
    // Randomized offsets and rotation to simulate ‚Äújogado‚Äù
    const offsetX = [-15, 10, -10, 10, -40][i];
    const offsetY = [10, -20, 15, -40, -50][i];
    const rotation = [-12, 10, -8, 15, -15][i];

    // Initial transform
    gsap.set(photo, {
      x: baseX + offsetX,
      y: baseY + offsetY,
      rotation: rotation,
      scale: 1,
      zIndex: 1
    });

    // Animate subtle floating & rotation loop
    gsap.to(photo, {
      duration: photoAnimDuration,
      y: `+=${(Math.random() * 10) - 5}`, // small vertical float
      rotation: rotation + (Math.random() * 8 - 4),
      repeat: -1,
      yoyo: true,
      ease: "sine.inOut",
      delay: i * 0.3
    });
  });

  // Photo hover animations with GSAP (scale + shadow zIndex)
  photos.forEach(photo => {
    photo.addEventListener('mouseenter', () => {
      gsap.to(photo, { scale: 1.2, zIndex: 20, duration: 0.3 });
    });
    photo.addEventListener('mouseleave', () => {
      gsap.to(photo, { scale: 1, zIndex: 1, duration: 0.3 });
    });
  });

  // Hearts animation with GSAP - spawning hearts floating up
  const heartsContainer = document.getElementById('hearts');

  function createHeart() {
    const heart = document.createElement('div');
    heart.innerHTML = '‚ù§Ô∏è';
    heart.style.position = 'fixed';
    heart.style.fontSize = `${12 + Math.random() * 20}px`;
    heart.style.left = `${Math.random() * window.innerWidth}px`;
    heart.style.top = `${window.innerHeight + 30}px`;
    heart.style.pointerEvents = 'none';
    heartsContainer.appendChild(heart);

    gsap.to(heart, {
      duration: 6 + Math.random() * 4,
      y: -window.innerHeight - 60,
      ease: "power1.out",
      opacity: 0,
      rotation: 360 * (Math.random() > 0.5 ? 1 : -1),
      onComplete: () => heart.remove()
    });
  }

  // Generate hearts continuously with random intervals
  let heartInterval = setInterval(createHeart, 400);

  // Pop-up logic and animation with GSAP
  const openBtn = document.getElementById('openPopupBtn');
  const popupOverlay = document.getElementById('popupOverlay');
  const popup = document.getElementById('popup');
  const closeBtn = document.getElementById('closePopupBtn');

  function openPopup() {
    popupOverlay.style.display = 'flex';
    popupOverlay.setAttribute('aria-hidden', 'false');
    gsap.fromTo(popup, 
      {scale: 0.6, opacity: 0, y: 50}, 
      {scale: 1, opacity: 1, y: 0, duration: 0.6, ease: "back.out(1.7)"});
  }

  function closePopup() {
    gsap.to(popup, {
      scale: 0.6,
      opacity: 0,
      y: 50,
      duration: 0.4,
      ease: "back.in(1.7)",
      onComplete: () => {
        popupOverlay.style.display = 'none';
        popupOverlay.setAttribute('aria-hidden', 'true');
      }
    });
  }

  openBtn.addEventListener('click', openPopup);
  closeBtn.addEventListener('click', closePopup);

  // Close popup when clicking outside the popup box
  popupOverlay.addEventListener('click', (e) => {
    if (e.target === popupOverlay) closePopup();
  });

  // Keyboard accessibility: ESC closes popup
  document.addEventListener('keydown', e => {
    if (e.key === "Escape" && popupOverlay.style.display === 'flex') {
      closePopup();
    }
  });

  // Audio control logic
  const audio = document.getElementById('backgroundMusic');
  const audioControl = document.getElementById('audioControl');
  const audioIcon = audioControl.querySelector('span');
  let playing = false;

  function toggleAudio() {
    if (!playing) {
      audio.play();
      playing = true;
      audioControl.setAttribute('aria-pressed', 'true');
      audioControl.innerHTML = '‚è∏Ô∏è<span>Parar M√∫sica</span>';
    } else {
      audio.pause();
      playing = false;
      audioControl.setAttribute('aria-pressed', 'false');
      audioControl.innerHTML = '‚ñ∂Ô∏è<span>Tocar M√∫sica</span>';
    }
  }

  audioControl.addEventListener('click', toggleAudio);
  audioControl.addEventListener('keydown', e => {
    if (e.key === "Enter" || e.key === " ") {
      e.preventDefault();
      toggleAudio();
    }
  });

  // Start music automatically on mobile interaction (user has to interact)
  window.addEventListener('touchstart', () => {
    if (!playing) {
      audio.play().catch(() => {}); // catch if autoplay blocked
      playing = true;
      audioControl.setAttribute('aria-pressed', 'true');
      audioControl.innerHTML = '‚è∏Ô∏è<span>Parar M√∫sica</span>';
    }
  }, { once: true });

  // Confetti canvas effect
  const confettiCanvas = document.getElementById('confetti');
  const ctx = confettiCanvas.getContext('2d');
  let W, H;
  let confettiParticles = [];

  function initConfetti() {
    W = window.innerWidth;
    H = window.innerHeight;
    confettiCanvas.width = W;
    confettiCanvas.height = H;

    confettiParticles = [];
    const colors = ['#e775a1', '#f4a1c1', '#a83261', '#d46b87', '#e9bad0'];

    for (let i = 0; i < 120; i++) {
      confettiParticles.push({
        x: Math.random() * W,
        y: Math.random() * H - H,
        r: (Math.random() * 6) + 4,
        d: Math.random() * 100,
        color: colors[Math.floor(Math.random() * colors.length)],
        tilt: Math.floor(Math.random() * 10) - 10,
        tiltAngle: 0,
        tiltAngleIncrement: Math.random() * 0.07 + 0.05,
      });
    }
  }

  function drawConfetti() {
    ctx.clearRect(0, 0, W, H);
    confettiParticles.forEach(p => {
      ctx.beginPath();
      ctx.lineWidth = p.r / 2;
      ctx.strokeStyle = p.color;
      ctx.moveTo(p.x + p.tilt + p.r / 4, p.y);
      ctx.lineTo(p.x + p.tilt, p.y + p.tilt + p.r / 4);
      ctx.stroke();
    });
    updateConfetti();
  }

  function updateConfetti() {
    confettiParticles.forEach(p => {
      p.tiltAngle += p.tiltAngleIncrement;
      p.y += (Math.cos(p.d) + 3 + p.r / 2) / 2;
      p.x += Math.sin(p.d);
      p.tilt = Math.sin(p.tiltAngle) * 15;

      if (p.y > H) {
        p.x = Math.random() * W;
        p.y = -20;
      }
    });
  }

  function confettiLoop() {
    requestAnimationFrame(confettiLoop);
    drawConfetti();
  }

  window.addEventListener('resize', () => {
    initConfetti();
  });

  initConfetti();
  confettiLoop();
</script>

</body>
</html>
